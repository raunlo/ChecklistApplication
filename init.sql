CREATE SEQUENCE IF NOT EXISTS checklist_id_sequence START 1 INCREMENT 1;
CREATE SEQUENCE IF NOT EXISTS checklist_item_id_sequence START 1 INCREMENT 1;
CREATE SEQUENCE IF NOT EXISTS checklist_item_row_id_sequence START 1 INCREMENT 1;
CREATE SEQUENCE IF NOT EXISTS template_item_id START 1 INCREMENT 1;
CREATE SEQUENCE IF NOT EXISTS template_item_row_id START 1 INCREMENT 1;


CREATE TABLE IF NOT EXISTS CHECKLIST
(
    ID   BIGINT PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS CHECKLIST_ITEM
(
    CHECKLIST_ITEM_ID           BIGINT PRIMARY KEY,
    CHECKLIST_ID BIGINT       NOT NULL,
    CHECKLIST_ITEM_NAME         VARCHAR(255) NOT NULL,
    CHECKLIST_ITEM_COMPLETED    BOOLEAN      NOT NULL DEFAULT FALSE,
    NEXT_ITEM_ID BIGINT       NULL,
    FOREIGN KEY (checklist_id) REFERENCES CHECKLIST (ID)
);

CREATE TABLE IF NOT EXISTS CHECKLIST_ITEM_ROW
(
    CHECKLIST_ITEM_ROW_ID                BIGINT PRIMARY KEY,
    CHECKLIST_ITEM_ID BIGINT       NOT NULL,
    CHECKLIST_ITEM_ROW_NAME              VARCHAR(255) NOT NULL,
    CHECKLIST_ITEM_ROW_COMPLETED         BOOLEAN      NOT NULL DEFAULT FALSE,
    FOREIGN KEY (CHECKLIST_ITEM_ID) REFERENCES CHECKLIST_ITEM (CHECKLIST_ITEM_ID)
);

CREATE TABLE IF NOT EXISTS TEMPLATE_ITEM
(
    ID   BIGINT PRIMARY KEY,
    NAME VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS TEMPLATE_ITEM_ROW
(
    ID               BIGINT PRIMARY KEY,
    TEMPLATE_ITEM_ID BIGINT       NOT NULL,
    NAME             VARCHAR(255) NOT NULL,
    FOREIGN KEY (TEMPLATE_ITEM_ID) REFERENCES TEMPLATE_ITEM (ID)
);



